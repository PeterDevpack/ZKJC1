insert into yq_jiaoynr (JIAOYID, JIAOYLX, JIAOYZT, JIAOYNR, JIAOYBZ, JIAOYZH)
values ('GetQuanJlsh', 'simpleQuery', 1, 'select ''QG013''||to_char(sysdate,''yyyymmdd'')||lpad(to_char(YY_GUIMLS_SEQ.nextval),10,''0'') guimqjls  from dual', '生成全局流水号', null);



CREATE SEQUENCE YY_GUIMLS_SEQ INCREMENT BY 1 START WITH 1 MAXVALUE 9999999999 MINVALUE 1 NOCYCLE NOCACHE;



insert into yq_jiaoynr (JIAOYID, JIAOYLX, JIAOYZT, JIAOYNR, JIAOYBZ, JIAOYZH)
values ('addBillCheckLog', 'simpleTrans', 1, 'insert into  billchecklog   values(:taskid , :pich , :account , :zhangh , :groupmember , :branchname , :ccode , :limit , :checktype , :billresultmodel , :billresult , :remark , :clerknum , :clerkname , :clerkorgnum , :checkdate , :checktime , :pingzlx)', '添加整票验印日志', null);



insert into yq_jiaoynr (JIAOYID, JIAOYLX, JIAOYZT, JIAOYNR, JIAOYBZ, JIAOYZH)
values ('addSealCheckLog', 'simpleTrans', 1, 'insert into  sealchecklog   values(:taskid , :chopsequence , :imagekey , :chopindicator , :chopname , :result , :resultmodel)', '添加单张验印日志', null);



insert into yq_jiaoynr (JIAOYID, JIAOYLX, JIAOYZT, JIAOYNR, JIAOYBZ, JIAOYZH) 
values('SaveCheckedResults' , 'complexQuery' , '1' , 'addBillCheckLog,addSealCheckLog' , '添加验印日志' , 'addBillCheckLog,addSealCheckLog');



--整票
insert into  billchecklog   values(:taskid , :pich , :account , :zhangh , :groupmember , :branchname , :ccode , :limit , :checktype , :billresultmodel , :billresult , :remark , :clerknum , :clerkname , :clerkorgnum , :checkdate , :checktime)

--单张
insert into  sealchecklog   values(:taskid , :chopsequence , :imagekey , :chopindicator , :chopname , :result , :resultmodel)






drop table BillCheckLog cascade constraints;
create table BillCheckLog 
(
   taskid             varchar2(20)         not null,
   pich               varchar2(17),
   account            varchar2(18),
   zhangh             varchar2(12),
   groupmember        varchar2(4)          not null,
   branchname         varchar2(3),
   ccode              varchar2(3),
   limit              varchar2(20),
   checktype          char(1),
   billresultmodel    varchar2(6),
   billresult         varchar2(12),
   remark             varchar2(200),
   clerknum           varchar2(6)          not null,
   clerkname          varchar2(26),
   clerkorgnum        varchar2(4)          not null,
   checkdate          varchar(10)          not null,
   checktime          varchar(8)           not null,
   pingzlx			  varchar2(60),
   constraint PK_BILLCHECKLOG primary key (taskid)
);

drop table SealCheckLog cascade constraints;
create table SealCheckLog 
(
   taskid             varchar2(20)         not null,
   chopsequence       varchar2(5),
   imagekey           varchar2(9),
   chopindicator      varchar2(6),
   chopname           varchar2(20),
   result             varchar2(12),
   resultmodel        varchar2(6),
   constraint PK_SEALCHECKLOG primary key (taskid , chopsequence)
);





update yq_jiaoyzd set zidcd = 6 where zidm = 'chopindicator';
update yq_jiaoyzd set zidcd = 12 where zidm = 'result';
insert into yq_jiaoyzd values ('pich' , 'string' , 17 );
insert into yq_jiaoyzd values ('groupmember' , 'string' , 4 );
insert into yq_jiaoyzd values ('branchname' , 'string' , 3 );
insert into yq_jiaoyzd values ('billresultmodel' , 'string' , 6 );
insert into yq_jiaoyzd values ('billresult' , 'string' , 12 );
insert into yq_jiaoyzd values ('chopsequence' , 'string' , 5 );
insert into yq_jiaoyzd values ('chopname' , 'string' , 20 );
insert into yq_jiaoyzd values ('resultmodel' , 'string' , 6 );
insert into yq_jiaoyzd values ('pinglx' , 'string' , 60 );
